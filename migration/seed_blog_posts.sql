-- migration/seed_blog_posts.sql
-- 向 blog_posts 資料表中插入初始文章資料

-- 使用 ON CONFLICT (id) DO NOTHING 以實現冪等性且不影響現有手動資料

INSERT INTO blog_posts (id, title, excerpt, content, author_name, publish_date, image_url) VALUES
('post-1', '案例一：AI 助您輕鬆完成行銷素材', '**角色**: 一位行銷專員 (User)。

**目標**: 產出一份新產品的行銷 DM。

**流程拆解**:

1.  **任務啟動 (前端)**
    *   行銷專員登入系統，點擊「新增任務」。
    *   他上傳了 `product_spec.pdf` 和 `copy_draft.txt` 兩個檔案。
    *   他點擊「指派給」下拉選單，選擇了「設計師 AI Agent」。

2.  **後端處理與 Agent 觸發**
    *   後端 API 收到請求，進行權限驗證。
    *   在資料庫建立任務，狀態為 `處理中`。
    *   後端非同步地觸發「設計師 AI Agent」。

3.  **AI Agent 執行**
    *   AI Agent 被喚醒，下載並分析任務文件。
    *   基於內容，它生成了一張圖片檔案 `dm_draft_v1.png`。

4.  **產出交付與任務更新**
    *   Agent 呼叫工具，將 `dm_draft_v1.png` 上傳到 Supabase Storage。
    *   後端更新資料庫任務：狀態改為 `待審核`，並附加檔案 URL。

5.  **使用者審核 (前端)**
    *   行銷專員的介面收到即時更新，看到狀態變更和新的附件連結，點擊審核。', '**角色**:  一位行銷專員 (User)。

**目標**: 產出一份新產品的行銷 DM。

**流程拆解**:

1.  **任務啟動 (前端)**
    *   行銷專員登入系統，點擊「新增任務」。
    *   他上傳了 `product_spec.pdf` 和 `copy_draft.txt` 兩個檔案。
    *   他點擊「指派給」下拉選單，選擇了「設計師 AI Agent」。

2.  **後端處理與 Agent 觸發**
    *   後端 API 收到請求，進行權限驗證。
    *   在資料庫建立任務，狀態為 `處理中`。
    *   後端非同步地觸發「設計師 AI Agent」。

3.  **AI Agent 執行**
    *   AI Agent 被喚醒，下載並分析任務文件。
    *   基於內容，它生成了一張圖片檔案 `dm_draft_v1.png`。

4.  **產出交付與任務更新**
    *   Agent 呼叫工具，將 `dm_draft_v1.png` 上傳到 Supabase Storage。
    *   後端更新資料庫任務：狀態改為 `待審核`，並附加檔案 URL。

5.  **使用者審核 (前端)**
    *   行銷專員的介面收到即時更新，看到狀態變更和新的附件連結，點擊審核。', 'Archon 團隊', '2025-08-29T10:00:00Z', 'https://picsum.photos/seed/usecase-1/600/400')
ON CONFLICT (id) DO NOTHING;

INSERT INTO blog_posts (id, title, excerpt, content, author_name, publish_date, image_url) VALUES
('post-2', '案例二：從技術支援到知識庫建立的自動化流程', '**角色**: 初階客服、資深後端工程師、知識庫 AI Agent。

**目標**: 解決一個複雜的技術問題，並將解決方案歸檔至內部知識庫。

**流程拆解**:

1.  **問題升級 (客服 -> 工程師)**
    *   初階客服遇到無法解決的 Bug，建立任務並附上日誌，指派給資深後端工程師「陳大哥」。

2.  **人工處理 (工程師)**
    *   陳大哥調查並解決問題，在任務評論區詳細記錄了排查過程和解決方案。

3.  **知識庫歸檔 (工程師 -> AI Agent)**
    *   陳大哥認為此方案有價值，將任務重新指派給「知識庫 AI Agent」，並指示它整理成 Q&A  文件。

4.  **AI Agent 整理與歸檔**
    *   AI Agent 讀取任務歷史，提煉核心內容，生成一份標準化的 Markdown 文件。
    *   它呼叫工具將文件上傳至 Supabase Storage 中名為「internal_knowledge_base」的特定位置。

5.  **任務完成與知識沉澱**
    *   任務狀態變為 `已歸檔`，並附上知識庫文章連結，供團隊未來搜尋參考。', '**角色**: 初階客服、資深後端工程師、知識庫 AI Agent。

**目標**: 解決一個複雜的技術問題，並將解決方案歸檔至內部知識庫。

**流程拆解**:

1.  **問題升級 (客服 -> 工程師)**
    *   初階客服遇到無法解決的 Bug，建立任務並附上日誌，指派給資深後端工程師「陳大哥」。

2.  **人工處理 (工程師)**
    *   陳大哥調查並解決問題，在任務評論區詳細記錄了排查過程和解決方案。

3.  **知識庫歸檔 (工程師 -> AI Agent)**
    *   陳大哥認為此方案有價值，將任務重新指派給「知識庫 AI Agent」，並指示它整理成 Q&A  文件。

4.  **AI Agent 整理與歸檔**
    *   AI Agent 讀取任務歷史，提煉核心內容，生成一份標準化的 Markdown 文件。
    *   它呼叫工具將文件上傳至 Supabase Storage 中名為「internal_knowledge_base」的特定位置。

5.  **任務完成與知識沉澱**
    *   任務狀態變為 `已歸檔`，並附上知識庫文章連結，供團隊未來搜尋參考。', 'Archon 團隊', '2025-08-28T14:30:00Z', 'https://picsum.photos/seed/usecase-2/600/400')
ON CONFLICT (id) DO NOTHING;

INSERT INTO blog_posts (id, title, excerpt, content, author_name, publish_date, image_url) VALUES
('post-3', '案例三：業務開發與客戶拜訪的智能規劃', '**角色**: 業務人員「小王」。

**目標**: 蒐集潛在大客戶「ABC 科技」的完整情報，並規劃一次成功的初次拜訪。

**流程拆解**:

1.  **情資蒐集 (智能查詢)**
    *   小王在系統中使用自然語言查詢關於「ABC 科技」的所有資訊。
    *   RAG Agent 在後端搜尋所有關聯資料庫與文件，並生成一份摘要總結，連同原始資料連結一 併呈現。

2.  **行動規劃 (任務建立與指派)**
    *   小王根據情資建立父任務「規劃拜訪 ABC 科技」，並設定截止日期。
    *   他建立多個子任務：
        *   指派「行銷 AI Agent」製作客製化簡報。
        *   指派「自己」去和客戶預約時間。
        *   指派「資深工程師」作為技術顧問，準備一同出席。

3.  **協同工作與進度追蹤**
    *   所有相關人員與 AI 都在同一個任務下更新各自的進度與產出（例如，AI 附加簡報草稿、工程師回覆時間）。

4.  **行程確定與完成**
    *   小王在所有準備工作就緒後，敲定會議時間，並在父任務中記錄，完成整個規劃的閉環。', '**角色**: 業務人員「小王」。

**目標**: 蒐集潛在大客戶「ABC 科技」的完整情報，並規劃一次成功的初次拜訪。

**流程拆解**:

1.  **情資蒐集 (智能查詢)**
    *   小王在系統中使用自然語言查詢關於「ABC 科技」的所有資訊。
    *   RAG Agent 在後端搜尋所有關聯資料庫與文件，並生成一份摘要總結，連同原始資料連結一 併呈現。

2.  **行動規劃 (任務建立與指派)**
    *   小王根據情資建立父任務「規劃拜訪 ABC 科技」，並設定截止日期。
    *   他建立多個子任務：
        *   指派「行銷 AI Agent」製作客製化簡報。
        *   指派「自己」去和客戶預約時間。
        *   指派「資深工程師」作為技術顧問，準備一同出席。

3.  **協同工作與進度追蹤**
    *   所有相關人員與 AI 都在同一個任務下更新各自的進度與產出（例如，AI 附加簡報草稿、工程師回覆時間）。

4.  **行程確定與完成**
    *   小王在所有準備工作就緒後，敲定會議時間，並在父任務中記錄，完成整個規劃的閉環。', 'Archon 團隊', '2025-08-27T09:00:00Z', 'https://picsum.photos/seed/usecase-3/600/400')
ON CONFLICT (id) DO NOTHING;

INSERT INTO blog_posts (id, title, excerpt, content, author_name, publish_date, image_url) VALUES
('a4444444-4444-4444-4444-444444444444', '2025年商業數據分析的五大趨勢：AI 如何重塑決策流程', '隨著 AI 技術的成熟，數據分析不再是資料科學家的專利。本文探討 2025 年企業必須掌握的五大趨勢，從自動化報表到預測性分析，幫助您在競爭中保持領先。', '# 2025年商業數據分析的五大趨勢

在數位轉型加速的今天，數據分析已成為企業的決策核心。以下是我們觀察到的 2025 年五大關鍵趨勢：

## 1. 增強分析 (Augmented Analytics) 的普及
AI 與機器學習正在自動化數據準備與洞察發現的過程。未來的分析工具將主動告訴您「發生了什麼」，而不是等您去查詢。

## 2. 自然語言查詢 (NLP)
想像一下，您只需對系統說：「告訴我上季獲利最高的產品」，報表就會自動生成。這就是 NLP 帶來的變革，讓非技術人員也能輕鬆獲取數據價值。

## 3. 數據民主化 (Data Democratization)
打破數據孤島，讓行銷、業務、人資等各部門都能安全地存取所需數據，是提升組織敏捷度的關鍵。

## 4. 預測性分析 (Predictive Analytics)
從「過去發生了什麼」轉向「未來可能發生什麼」。透過歷史數據訓練模型，企業能更精準地預測庫存需求與客戶流失率。

## 5. 隱私計算 (Privacy Computing)
在保護使用者隱私的前提下進行數據共享與分析，將是合規經營的必修課。

### 結語
掌握這些趨勢，您的企業將能更靈活地應對市場變化。Archon 的數據分析模組正是基於這些理念設計，助您輕鬆跨越技術門檻。', 'Bob (CMO)', '2025-01-10T09:00:00Z', 'https://picsum.photos/seed/trends-2025/600/400')
ON CONFLICT (id) DO NOTHING;

INSERT INTO blog_posts (id, title, excerpt, content, author_name, publish_date, image_url) VALUES
('a5555555-5555-5555-5555-555555555555', '零售巨頭如何利用數據分析提升 30% 營收：實戰案例分享', '一家擁有多通路的大型零售商，面臨庫存積壓與客單價停滯的挑戰。透過導入精準的客戶分群與購物籃分析，他們不僅清除了 40% 的滯銷庫存，更在三個月內實現了 30% 的營收成長。', '# 零售巨頭如何利用數據分析提升 30% 營收

## 背景與挑戰
客戶為國內知名的連鎖零售品牌，擁有超過 50 家實體門市與線上商城。然而，他們面臨兩個主要痛點：
1.  **庫存分配不均**：熱銷商品在部分門市缺貨，卻在其他門市滯銷。
2.  **行銷亂槍打鳥**：缺乏對客戶偏好的了解，導致 EDM 開信率低於 10%。

## 解決方案：數據驅動的精準行銷
我們協助該客戶導入了全通路的數據整合平台，實施了購物籃分析、動態庫存調撥與 RFM 模型客戶分群等策略。

## 實戰紀錄：Archon 人機協作流程
本案的成功關鍵在於業務團隊利用 Archon 系統進行的高效情資整合：

1. **行銷端建置知識庫**: 行銷經理 Bob 將公司過往處理過的「南非鋰電池市場報告 (156_resource)」與「Fujitec 排程優化案」導入系統知識庫。
2. **業務端精準開發**: 業務代表 Alice 在搜尋市場情資時，發現潛在客戶 `Retail Corp` 正在招募具備能源轉型背景的數據專家。
3. **RAG 自動生成 Pitch**: Alice 呼叫 **Generate Pitch** 功能，系統自動檢索出 Bob 導入的南非市場深度報告，並生成一份高度客製化的開發信，成功協助 Alice 約到對方的 CTO。

## 成果
在導入系統後的三個月內，該客戶達成了以下具體成效：
*   **營收成長**：整體營收提升 30%。
*   **庫存優化**：滯銷庫存減少 40%。
*   **行銷效率**：EDM 開信率提升至 25%，轉換率翻倍。

此案例證明，透過 Archon 的 RAG 協作模式，正確的數據策略能直接轉化為具體的商業價值。', 'Alice (Sales VP)', '2025-01-12T14:00:00Z', 'https://picsum.photos/seed/case-retail/600/400')
ON CONFLICT (id) DO NOTHING;

INSERT INTO blog_posts (id, title, excerpt, content, author_name, publish_date, image_url) VALUES
('a6666666-6666-6666-6666-666666666666', '案例六：從 iframe 到 React 元件：現代化企業網站的重構之路', '在 Phase 4.3 中，我們面對的是一個歷史悠久但結構混亂的「行銷資產考古遺址」。本文記錄了我們如何將散落在 public/ai 的舊 HTML 轉化為現代化單頁應用 (SPA) 元件，並解決使用者登入後「導航迷路」的 UX 挑戰。', '# 案例六：從 iframe 到 React 元件：現代化企業網站的重構之路

**作者**: Bob (Content Lead)

## 1. 考古現場：public/ai 的混亂現狀
重構的第一步是面對現實。我們的 `public/ai` 資料夾裡堆滿了各種時期的行銷素材、技術文件和提案草稿。雖然內容豐富，但存在以下致命傷：
*   **Site-within-site**: 使用 `home.html` 配合 `iframe` 嵌入其他頁面，這在現代 SPA 架構中顯得格格不入。
*   **體驗斷裂**: 嵌入的舊頁面樣式不一，使用者像是穿梭在不同的平行時空中。
*   **導航黑洞**: 使用者登入 Dashboard 後，往往無法順利返回首頁或部落格，形成導航死角。

## 2. 策略：是「重構」，更是「策展」
我們不只是搬運 HTML，而是進行一次深度的數位策展。

### A. 資料夾結構元件化
我們廢除了 iframe 架構，將 `contents/` 下的靜態內容轉化為 `src/features/marketing/` 下的 React 元件。
*   `summary.html` -> `<ProjectSummary />`
*   `requirements.html` -> `<TechRequirements />`

### B. 路由與佈局的解耦
我們重新設計了 `AppRoutes.tsx`，區分了 **Public Layout** (官網、解決方案、部落格) 與 **Dashboard Layout** (個人任務、統計圖表)。
這解決了「登入後回不去」的問題：我們確保 Header 能感知登入狀態，讓已登入的使用者在瀏覽官網時，能透過按鈕一鍵跳轉回 Dashboard。

## 3. 技術收穫
1.  **效能優化**: 透過 React 的 Lazy Loading 與 Webpack/Vite 的優化，原本沈重的 iframe 載入變得輕盈且流暢。
2.  **維護性提升**: 所有的文字與圖片現在都與 UI 分離，行銷團隊可以更專注於內容創作，而不必擔心破壞排版。

## 4. 結語：品牌的一致性
重構不僅是技術債的償還，更是品牌形象的重塑。一個現代化的企業網站，應該在每一個細節都展現出其對技術與使用者體驗的極致追求。這就是我們在 Phase 4.3 努力的方向。', 'Bob (Content Lead)', '2025-01-13T10:00:00Z', 'https://picsum.photos/seed/refactor-path/600/400')
ON CONFLICT (id) DO NOTHING;